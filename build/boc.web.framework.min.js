/*! boc.web.framework2015-03-11 */
!function(){"use strict";window.QS={stringify:function(a){var b="";for(var c in a)b+=b?"&":"?",b+=c+"="+encodeURIComponent(a[c]);return b},parse:function(a){var b,c={},d=/([a-z]*)=([^&]*)/g;for(b=d.exec(a);null!=b;)c[b[1]]=decodeURIComponent(b[2]),b=d.exec(a);return c}}}(window),function(){"use strict";window.Framework=function(){function a(a){var b=document.getElementById(a),c=b?b.innerHTML:"";return{id:a,container:b,visible:function(a){b.style.display=a?"":"none"},template:c,setTemplate:function(a){b.innerHTML=a},setModel:function(a){var b,c,d,e,f=/{{([a-zA-Z]+)\.([a-zA-Z]+)}}/g;if(a){for(b=f.exec(this.template),e=this.template;null!=b;)d=b[0],c=b[2],e=e.replace(d,a[c]),b=f.exec(this.template);for(;-1!==e.indexOf("data-src");)e=e.replace("data-src","src");this.setTemplate(e)}}}}function b(a,b){e[a]?e[a].push(b):e[a]=[b]}var c=window.QS,d={},e={},f={};return{addController:function(c){var e=c.toString(),g=e.match(/.*\((.*)\)/),h=e.match(/function (.+)Controller/),i=[];g[1].split(",").forEach(function(a){var b=f[a.trim()];i.push("function"==typeof b?new b:b)});var j=h[1].toLowerCase(),k=c.apply(this,i);k.view=a(j),k.init&&k.init(),b(k.route,j),d[h[1].toLowerCase()]=k},load:function(a){var b=a.match(/#(\/.*)\?(.*)/);this.navigateTo("/"),b&&this.navigateTo(b[1],c.parse(b[2]))},navigateTo:function(a,b){var f;e[a]?(location.hash=a+c.stringify(b),e[a].forEach(function(a){f=d[a],f&&f.render&&f.render(b)})):console.log("404")},registerService:function(a,b){f[a]=b}}}}(window);